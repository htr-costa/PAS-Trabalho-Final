# Exemplos de Testes das APIs
# Arquivo para testar os endpoints com ferramentas como curl, Postman ou REST Client

### ========================================
### MICROSERVIÇO DE ESTOQUE (Porta 8081)
### ========================================

### 1. Listar todos os itens do estoque
GET http://localhost:8081/api/estoque
Accept: application/json

###

### 2. Buscar item por ingrediente ID
GET http://localhost:8081/api/estoque/ingrediente/1
Accept: application/json

###

### 3. Verificar disponibilidade
POST http://localhost:8081/api/estoque/verificar-disponibilidade
Content-Type: application/json

{
  "ingredienteId": 1,
  "quantidadeNecessaria": 5
}

###

### 4. Dar baixa no estoque (remover quantidade)
POST http://localhost:8081/api/estoque/baixar
Content-Type: application/json

{
  "ingredienteId": 1,
  "quantidade": 3
}

###

### 5. Adicionar ao estoque (aumentar quantidade)
POST http://localhost:8081/api/estoque/adicionar
Content-Type: application/json

{
  "ingredienteId": 1,
  "quantidade": 10
}

###

### 6. Criar novo item de estoque
POST http://localhost:8081/api/estoque
Content-Type: application/json

{
  "ingredienteId": 5,
  "quantidade": 50
}

###

### ========================================
### SERVIÇO PRINCIPAL (Porta 8080)
### ========================================

### 1. Login de usuário
POST http://localhost:8080/api/autenticacao/login
Content-Type: application/json

{
  "username": "admin",
  "password": "123456"
}

###

### 2. Listar cardápios
GET http://localhost:8080/api/cardapios
Accept: application/json

###

### 3. Buscar cardápio por ID
GET http://localhost:8080/api/cardapios/1
Accept: application/json

###

### 4. Submeter novo pedido
POST http://localhost:8080/api/pedidos
Content-Type: application/json

{
  "id": 1001,
  "cpfCliente": "9001",
  "itens": [
    {
      "produtoId": 1,
      "quantidade": 2
    },
    {
      "produtoId": 3,
      "quantidade": 1
    }
  ],
  "enderecoEntrega": "Rua das Flores, 100",
  "emailUsuario": "admin"
}

###

### 5. Consultar status do pedido
GET http://localhost:8080/api/pedidos/1001/status
Accept: application/json

###

### 6. Pagar pedido
PUT http://localhost:8080/api/pedidos/1001/pagar
Content-Type: application/json

###

### 7. Cancelar pedido
DELETE http://localhost:8080/api/pedidos/1001
Accept: application/json

###

### 8. Listar pedidos entregues
GET http://localhost:8080/api/pedidos/entregues?dataInicio=2024-01-01T00:00:00&dataFim=2025-12-31T23:59:59
Accept: application/json

###

### ========================================
### TESTES DE INTEGRAÇÃO
### ========================================

### Cenário 1: Verificar estoque antes de criar pedido
# Passo 1: Verificar disponibilidade do ingrediente 1 (Disco de pizza)
GET http://localhost:8081/api/estoque/ingrediente/1

###

# Passo 2: Criar pedido que consome estoque
POST http://localhost:8080/api/pedidos
Content-Type: application/json

{
  "id": 2001,
  "cpfCliente": "9001",
  "itens": [
    {
      "produtoId": 1,
      "quantidade": 1
    }
  ],
  "enderecoEntrega": "Rua das Flores, 100",
  "emailUsuario": "admin"
}

###

# Passo 3: Verificar que o estoque diminuiu
GET http://localhost:8081/api/estoque/ingrediente/1

###

### Cenário 2: Repor estoque
# Passo 1: Ver estoque atual
GET http://localhost:8081/api/estoque

###

# Passo 2: Adicionar 100 unidades do ingrediente 1
POST http://localhost:8081/api/estoque/adicionar
Content-Type: application/json

{
  "ingredienteId": 1,
  "quantidade": 100
}

###

# Passo 3: Confirmar que aumentou
GET http://localhost:8081/api/estoque/ingrediente/1

###
